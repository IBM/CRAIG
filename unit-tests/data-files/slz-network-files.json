{
  "versions.tf": "##############################################################################\n# Terraform Providers\n##############################################################################\n\nterraform {\n  required_providers {\n    ibm = {\n      source  = \"IBM-Cloud/ibm\"\n      version = \"~>1.43.0\"\n    }\n  }\n  required_version = \">=1.3\"\n}\n\n##############################################################################\n",
  "main.tf": "##############################################################################\n# IBM Cloud Provider\n##############################################################################\n\nprovider \"ibm\" {\n  ibmcloud_api_key = var.ibmcloud_api_key\n  region           = \"us-south\"\n  ibmcloud_timeout = 60\n}\n\n#############################################################################\n",
  "variables.tf": "##############################################################################\n# Variables\n##############################################################################\n\nvariable \"ibmcloud_api_key\" {\n  description = \"The IBM Cloud platform API key needed to deploy IAM enabled resources.\"\n  type        = string\n  sensitive   = true\n}\n\nvariable \"slz_ssh_key_public_key\" {\n  description = \"Public SSH Key Value for Slz SSH Key\"\n  type        = string\n  sensitive   = true\n  default     = \"public-key\"\n}\n\n##############################################################################\n",
  "vpc.tf": "##############################################################################\n# Management VPC\n##############################################################################\n\nresource \"ibm_is_vpc\" \"management_vpc\" {\n  name                        = \"slz-management-vpc\"\n  resource_group              = ibm_resource_group.slz_management_rg.id\n  default_network_acl_name    = null\n  default_security_group_name = null\n  default_routing_table_name  = null\n  tags                        = [\"slz\",\"landing-zone\"]\n  address_prefix_management   = \"manual\"\n}\n\nresource \"ibm_is_vpc_address_prefix\" \"management_vsi_zone_1_prefix\" {\n  name = \"slz-management-vsi-zone-1\"\n  vpc  = ibm_is_vpc.management_vpc.id\n  zone = \"us-south-1\"\n  cidr = \"10.10.10.0/24\"\n}\n\nresource \"ibm_is_vpc_address_prefix\" \"management_vsi_zone_2_prefix\" {\n  name = \"slz-management-vsi-zone-2\"\n  vpc  = ibm_is_vpc.management_vpc.id\n  zone = \"us-south-2\"\n  cidr = \"10.10.20.0/24\"\n}\n\nresource \"ibm_is_vpc_address_prefix\" \"management_vsi_zone_3_prefix\" {\n  name = \"slz-management-vsi-zone-3\"\n  vpc  = ibm_is_vpc.management_vpc.id\n  zone = \"us-south-3\"\n  cidr = \"10.10.30.0/24\"\n}\n\nresource \"ibm_is_vpc_address_prefix\" \"management_vpe_zone_1_prefix\" {\n  name = \"slz-management-vpe-zone-1\"\n  vpc  = ibm_is_vpc.management_vpc.id\n  zone = \"us-south-1\"\n  cidr = \"10.20.10.0/24\"\n}\n\nresource \"ibm_is_vpc_address_prefix\" \"management_vpe_zone_2_prefix\" {\n  name = \"slz-management-vpe-zone-2\"\n  vpc  = ibm_is_vpc.management_vpc.id\n  zone = \"us-south-2\"\n  cidr = \"10.20.20.0/24\"\n}\n\nresource \"ibm_is_vpc_address_prefix\" \"management_vpe_zone_3_prefix\" {\n  name = \"slz-management-vpe-zone-3\"\n  vpc  = ibm_is_vpc.management_vpc.id\n  zone = \"us-south-3\"\n  cidr = \"10.20.30.0/24\"\n}\n\nresource \"ibm_is_vpc_address_prefix\" \"management_vpn_zone_1_prefix\" {\n  name = \"slz-management-vpn-zone-1\"\n  vpc  = ibm_is_vpc.management_vpc.id\n  zone = \"us-south-1\"\n  cidr = \"10.30.10.0/24\"\n}\n\nresource \"ibm_is_network_acl\" \"management_management_acl\" {\n  name           = \"slz-management-management-acl\"\n  vpc            = ibm_is_vpc.management_vpc.id\n  resource_group = ibm_resource_group.slz_management_rg.id\n  tags           = [\"slz\",\"landing-zone\"]\n}\n\nresource \"ibm_is_network_acl_rule\" \"management_management_acl_rule_allow_ibm_inbound\" {\n  network_acl = ibm_is_network_acl.management_management_acl.id\n  action      = \"allow\"\n  destination = \"10.0.0.0/8\"\n  direction   = \"inbound\"\n  name        = \"allow-ibm-inbound\"\n  source      = \"161.26.0.0/16\"\n}\n\nresource \"ibm_is_network_acl_rule\" \"management_management_acl_rule_allow_all_network_inbound\" {\n  network_acl = ibm_is_network_acl.management_management_acl.id\n  action      = \"allow\"\n  destination = \"10.0.0.0/8\"\n  direction   = \"inbound\"\n  name        = \"allow-all-network-inbound\"\n  source      = \"10.0.0.0/8\"\n}\n\nresource \"ibm_is_network_acl_rule\" \"management_management_acl_rule_allow_all_outbound\" {\n  network_acl = ibm_is_network_acl.management_management_acl.id\n  action      = \"allow\"\n  destination = \"0.0.0.0/0\"\n  direction   = \"outbound\"\n  name        = \"allow-all-outbound\"\n  source      = \"0.0.0.0/0\"\n}\n\nresource \"ibm_is_subnet\" \"management_vsi_zone_1\" {\n  vpc             = ibm_is_vpc.management_vpc.id\n  name            = \"slz-management-vsi-zone-1\"\n  zone            = \"us-south-1\"\n  resource_group  = ibm_resource_group.slz_management_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  network_acl     = ibm_is_network_acl.management_management_acl.id\n  ipv4_cidr_block = ibm_is_vpc_address_prefix.management_vsi_zone_1_prefix.cidr\n}\n\nresource \"ibm_is_subnet\" \"management_vpn_zone_1\" {\n  vpc             = ibm_is_vpc.management_vpc.id\n  name            = \"slz-management-vpn-zone-1\"\n  zone            = \"us-south-1\"\n  resource_group  = ibm_resource_group.slz_management_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  network_acl     = ibm_is_network_acl.management_management_acl.id\n  ipv4_cidr_block = ibm_is_vpc_address_prefix.management_vpn_zone_1_prefix.cidr\n}\n\nresource \"ibm_is_subnet\" \"management_vsi_zone_2\" {\n  vpc             = ibm_is_vpc.management_vpc.id\n  name            = \"slz-management-vsi-zone-2\"\n  zone            = \"us-south-2\"\n  resource_group  = ibm_resource_group.slz_management_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  network_acl     = ibm_is_network_acl.management_management_acl.id\n  ipv4_cidr_block = ibm_is_vpc_address_prefix.management_vsi_zone_2_prefix.cidr\n}\n\nresource \"ibm_is_subnet\" \"management_vsi_zone_3\" {\n  vpc             = ibm_is_vpc.management_vpc.id\n  name            = \"slz-management-vsi-zone-3\"\n  zone            = \"us-south-3\"\n  resource_group  = ibm_resource_group.slz_management_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  network_acl     = ibm_is_network_acl.management_management_acl.id\n  ipv4_cidr_block = ibm_is_vpc_address_prefix.management_vsi_zone_3_prefix.cidr\n}\n\nresource \"ibm_is_subnet\" \"management_vpe_zone_1\" {\n  vpc             = ibm_is_vpc.management_vpc.id\n  name            = \"slz-management-vpe-zone-1\"\n  zone            = \"us-south-1\"\n  resource_group  = ibm_resource_group.slz_management_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  network_acl     = ibm_is_network_acl.management_management_acl.id\n  ipv4_cidr_block = ibm_is_vpc_address_prefix.management_vpe_zone_1_prefix.cidr\n}\n\nresource \"ibm_is_subnet\" \"management_vpe_zone_2\" {\n  vpc             = ibm_is_vpc.management_vpc.id\n  name            = \"slz-management-vpe-zone-2\"\n  zone            = \"us-south-2\"\n  resource_group  = ibm_resource_group.slz_management_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  network_acl     = ibm_is_network_acl.management_management_acl.id\n  ipv4_cidr_block = ibm_is_vpc_address_prefix.management_vpe_zone_2_prefix.cidr\n}\n\nresource \"ibm_is_subnet\" \"management_vpe_zone_3\" {\n  vpc             = ibm_is_vpc.management_vpc.id\n  name            = \"slz-management-vpe-zone-3\"\n  zone            = \"us-south-3\"\n  resource_group  = ibm_resource_group.slz_management_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  network_acl     = ibm_is_network_acl.management_management_acl.id\n  ipv4_cidr_block = ibm_is_vpc_address_prefix.management_vpe_zone_3_prefix.cidr\n}\n\n##############################################################################\n\n##############################################################################\n# Workload VPC\n##############################################################################\n\nresource \"ibm_is_vpc\" \"workload_vpc\" {\n  name                        = \"slz-workload-vpc\"\n  resource_group              = ibm_resource_group.slz_workload_rg.id\n  default_network_acl_name    = null\n  default_security_group_name = null\n  default_routing_table_name  = null\n  tags                        = [\"slz\",\"landing-zone\"]\n  address_prefix_management   = \"manual\"\n}\n\nresource \"ibm_is_vpc_address_prefix\" \"workload_vsi_zone_1_prefix\" {\n  name = \"slz-workload-vsi-zone-1\"\n  vpc  = ibm_is_vpc.workload_vpc.id\n  zone = \"us-south-1\"\n  cidr = \"10.40.10.0/24\"\n}\n\nresource \"ibm_is_vpc_address_prefix\" \"workload_vsi_zone_2_prefix\" {\n  name = \"slz-workload-vsi-zone-2\"\n  vpc  = ibm_is_vpc.workload_vpc.id\n  zone = \"us-south-2\"\n  cidr = \"10.50.10.0/24\"\n}\n\nresource \"ibm_is_vpc_address_prefix\" \"workload_vsi_zone_3_prefix\" {\n  name = \"slz-workload-vsi-zone-3\"\n  vpc  = ibm_is_vpc.workload_vpc.id\n  zone = \"us-south-3\"\n  cidr = \"10.60.10.0/24\"\n}\n\nresource \"ibm_is_vpc_address_prefix\" \"workload_vpe_zone_1_prefix\" {\n  name = \"slz-workload-vpe-zone-1\"\n  vpc  = ibm_is_vpc.workload_vpc.id\n  zone = \"us-south-1\"\n  cidr = \"10.40.20.0/24\"\n}\n\nresource \"ibm_is_vpc_address_prefix\" \"workload_vpe_zone_2_prefix\" {\n  name = \"slz-workload-vpe-zone-2\"\n  vpc  = ibm_is_vpc.workload_vpc.id\n  zone = \"us-south-2\"\n  cidr = \"10.50.20.0/24\"\n}\n\nresource \"ibm_is_vpc_address_prefix\" \"workload_vpe_zone_3_prefix\" {\n  name = \"slz-workload-vpe-zone-3\"\n  vpc  = ibm_is_vpc.workload_vpc.id\n  zone = \"us-south-3\"\n  cidr = \"10.60.20.0/24\"\n}\n\nresource \"ibm_is_network_acl\" \"workload_workload_acl\" {\n  name           = \"slz-workload-workload-acl\"\n  vpc            = ibm_is_vpc.workload_vpc.id\n  resource_group = ibm_resource_group.slz_workload_rg.id\n  tags           = [\"slz\",\"landing-zone\"]\n}\n\nresource \"ibm_is_network_acl_rule\" \"workload_workload_acl_rule_allow_ibm_inbound\" {\n  network_acl = ibm_is_network_acl.workload_workload_acl.id\n  action      = \"allow\"\n  destination = \"10.0.0.0/8\"\n  direction   = \"inbound\"\n  name        = \"allow-ibm-inbound\"\n  source      = \"161.26.0.0/16\"\n}\n\nresource \"ibm_is_network_acl_rule\" \"workload_workload_acl_rule_allow_all_network_inbound\" {\n  network_acl = ibm_is_network_acl.workload_workload_acl.id\n  action      = \"allow\"\n  destination = \"10.0.0.0/8\"\n  direction   = \"inbound\"\n  name        = \"allow-all-network-inbound\"\n  source      = \"10.0.0.0/8\"\n}\n\nresource \"ibm_is_network_acl_rule\" \"workload_workload_acl_rule_allow_all_outbound\" {\n  network_acl = ibm_is_network_acl.workload_workload_acl.id\n  action      = \"allow\"\n  destination = \"0.0.0.0/0\"\n  direction   = \"outbound\"\n  name        = \"allow-all-outbound\"\n  source      = \"0.0.0.0/0\"\n}\n\nresource \"ibm_is_subnet\" \"workload_vsi_zone_1\" {\n  vpc             = ibm_is_vpc.workload_vpc.id\n  name            = \"slz-workload-vsi-zone-1\"\n  zone            = \"us-south-1\"\n  resource_group  = ibm_resource_group.slz_workload_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  network_acl     = ibm_is_network_acl.workload_workload_acl.id\n  ipv4_cidr_block = ibm_is_vpc_address_prefix.workload_vsi_zone_1_prefix.cidr\n}\n\nresource \"ibm_is_subnet\" \"workload_vsi_zone_2\" {\n  vpc             = ibm_is_vpc.workload_vpc.id\n  name            = \"slz-workload-vsi-zone-2\"\n  zone            = \"us-south-2\"\n  resource_group  = ibm_resource_group.slz_workload_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  network_acl     = ibm_is_network_acl.workload_workload_acl.id\n  ipv4_cidr_block = ibm_is_vpc_address_prefix.workload_vsi_zone_2_prefix.cidr\n}\n\nresource \"ibm_is_subnet\" \"workload_vsi_zone_3\" {\n  vpc             = ibm_is_vpc.workload_vpc.id\n  name            = \"slz-workload-vsi-zone-3\"\n  zone            = \"us-south-3\"\n  resource_group  = ibm_resource_group.slz_workload_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  network_acl     = ibm_is_network_acl.workload_workload_acl.id\n  ipv4_cidr_block = ibm_is_vpc_address_prefix.workload_vsi_zone_3_prefix.cidr\n}\n\nresource \"ibm_is_subnet\" \"workload_vpe_zone_1\" {\n  vpc             = ibm_is_vpc.workload_vpc.id\n  name            = \"slz-workload-vpe-zone-1\"\n  zone            = \"us-south-1\"\n  resource_group  = ibm_resource_group.slz_workload_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  network_acl     = ibm_is_network_acl.workload_workload_acl.id\n  ipv4_cidr_block = ibm_is_vpc_address_prefix.workload_vpe_zone_1_prefix.cidr\n}\n\nresource \"ibm_is_subnet\" \"workload_vpe_zone_2\" {\n  vpc             = ibm_is_vpc.workload_vpc.id\n  name            = \"slz-workload-vpe-zone-2\"\n  zone            = \"us-south-2\"\n  resource_group  = ibm_resource_group.slz_workload_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  network_acl     = ibm_is_network_acl.workload_workload_acl.id\n  ipv4_cidr_block = ibm_is_vpc_address_prefix.workload_vpe_zone_2_prefix.cidr\n}\n\nresource \"ibm_is_subnet\" \"workload_vpe_zone_3\" {\n  vpc             = ibm_is_vpc.workload_vpc.id\n  name            = \"slz-workload-vpe-zone-3\"\n  zone            = \"us-south-3\"\n  resource_group  = ibm_resource_group.slz_workload_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  network_acl     = ibm_is_network_acl.workload_workload_acl.id\n  ipv4_cidr_block = ibm_is_vpc_address_prefix.workload_vpe_zone_3_prefix.cidr\n}\n\n##############################################################################\n\n",
  "key_management.tf": "##############################################################################\n# Key Management Instance Slz Kms\n##############################################################################\n\nresource \"ibm_resource_instance\" \"slz_kms\" {\n  name              = \"slz-slz-kms\"\n  resource_group_id = ibm_resource_group.slz_service_rg.id\n  service           = \"kms\"\n  plan              = \"tiered-pricing\"\n  location          = \"us-south\"\n  tags              = [\"slz\",\"landing-zone\"]\n}\n\nresource \"ibm_iam_authorization_policy\" \"slz_kms_server_protect_policy\" {\n  source_service_name         = \"server-protect\"\n  target_service_name         = \"kms\"\n  target_resource_instance_id = ibm_resource_instance.slz_kms.guid\n  roles                       = [\"Reader\"]\n  description                 = \"Allow block storage volumes to be encrypted by Key Management instance.\"\n}\n\nresource \"ibm_iam_authorization_policy\" \"slz_kms_block_storage_policy\" {\n  source_service_name         = \"is\"\n  target_service_name         = \"kms\"\n  target_resource_instance_id = ibm_resource_instance.slz_kms.guid\n  roles                       = [\"Reader\", \"Authorization Delegator\"]\n  description                 = \"Allow block storage volumes to be encrypted by Key Management instance.\"\n  source_resource_type        = \"share\"\n}\n\nresource \"ibm_kms_key_rings\" \"slz_kms_slz_slz_ring_ring\" {\n  key_ring_id = \"slz-slz-kms-slz-slz-ring\"\n  instance_id = ibm_resource_instance.slz_kms.guid\n}\n\nresource \"ibm_kms_key\" \"slz_kms_slz_slz_key_key\" {\n  instance_id   = ibm_resource_instance.slz_kms.guid\n  key_name      = \"slz-slz-kms-slz-slz-key\"\n  standard_key  = false\n  key_ring_id   = ibm_kms_key_rings.slz_kms_slz_slz_ring_ring.key_ring_id\n  force_delete  = true\n  endpoint_type = \"public\"\n\n  depends_on = [\n    ibm_iam_authorization_policy.slz_kms_server_protect_policy,\n    ibm_iam_authorization_policy.slz_kms_block_storage_policy\n  ]\n}\n\nresource \"ibm_kms_key_policies\" \"slz_kms_slz_slz_key_key_policy\" {\n  instance_id   = ibm_resource_instance.slz_kms.guid\n  endpoint_type = \"public\"\n  key_id        = ibm_kms_key.slz_kms_slz_slz_key_key.key_id\n\n  rotation {\n    interval_month = 12\n  }\n\n  dual_auth_delete {\n    enabled = false\n  }\n}\n\nresource \"ibm_kms_key\" \"slz_kms_slz_atracker_key_key\" {\n  instance_id   = ibm_resource_instance.slz_kms.guid\n  key_name      = \"slz-slz-kms-slz-atracker-key\"\n  standard_key  = false\n  key_ring_id   = ibm_kms_key_rings.slz_kms_slz_slz_ring_ring.key_ring_id\n  force_delete  = true\n  endpoint_type = \"public\"\n\n  depends_on = [\n    ibm_iam_authorization_policy.slz_kms_server_protect_policy,\n    ibm_iam_authorization_policy.slz_kms_block_storage_policy\n  ]\n}\n\nresource \"ibm_kms_key_policies\" \"slz_kms_slz_atracker_key_key_policy\" {\n  instance_id   = ibm_resource_instance.slz_kms.guid\n  endpoint_type = \"public\"\n  key_id        = ibm_kms_key.slz_kms_slz_atracker_key_key.key_id\n\n  rotation {\n    interval_month = 12\n  }\n\n  dual_auth_delete {\n    enabled = false\n  }\n}\n\nresource \"ibm_kms_key\" \"slz_kms_slz_vsi_volume_key_key\" {\n  instance_id   = ibm_resource_instance.slz_kms.guid\n  key_name      = \"slz-slz-kms-slz-vsi-volume-key\"\n  standard_key  = false\n  key_ring_id   = ibm_kms_key_rings.slz_kms_slz_slz_ring_ring.key_ring_id\n  force_delete  = true\n  endpoint_type = \"public\"\n\n  depends_on = [\n    ibm_iam_authorization_policy.slz_kms_server_protect_policy,\n    ibm_iam_authorization_policy.slz_kms_block_storage_policy\n  ]\n}\n\nresource \"ibm_kms_key_policies\" \"slz_kms_slz_vsi_volume_key_key_policy\" {\n  instance_id   = ibm_resource_instance.slz_kms.guid\n  endpoint_type = \"public\"\n  key_id        = ibm_kms_key.slz_kms_slz_vsi_volume_key_key.key_id\n\n  rotation {\n    interval_month = 12\n  }\n\n  dual_auth_delete {\n    enabled = false\n  }\n}\n\n##############################################################################\n\n",
  "object_storage.tf": "##############################################################################\n# Object Storage Instance Atracker Cos\n##############################################################################\n\nresource \"random_string\" \"atracker_cos_random_suffix\" {\n  length  = 8\n  special = false\n  upper   = false\n}\n\nresource \"ibm_resource_instance\" \"atracker_cos_object_storage\" {\n  name              = \"slz-atracker-cos-object-storage-${random_string.atracker_cos_random_suffix.result}\"\n  resource_group_id = ibm_resource_group.slz_service_rg.id\n  service           = \"cloud-object-storage\"\n  location          = \"global\"\n  plan              = \"standard\"\n  tags              = [\"slz\",\"landing-zone\"]\n}\n\nresource \"ibm_iam_authorization_policy\" \"atracker_cos_cos_to_slz_kms_kms_policy\" {\n  source_service_name         = \"cloud-object-storage\"\n  source_resource_instance_id = split(\":\", ibm_resource_instance.atracker_cos_object_storage.id)[7]\n  roles                       = [\"Reader\"]\n  description                 = \"Allow COS instance to read from KMS instance\"\n  target_service_name         = \"kms\"\n  target_resource_instance_id = ibm_resource_instance.slz_kms.guid\n}\n\nresource \"ibm_cos_bucket\" \"atracker_cos_object_storage_atracker_bucket_bucket\" {\n  bucket_name          = \"slz-atracker-cos-atracker-bucket-${random_string.atracker_cos_random_suffix.result}\"\n  resource_instance_id = ibm_resource_instance.atracker_cos_object_storage.id\n  storage_class        = \"standard\"\n  endpoint_type        = \"public\"\n  force_delete         = true\n  region_location      = \"us-south\"\n  key_protect          = ibm_kms_key.slz_kms_slz_atracker_key_key.crn\n\n  depends_on = [\n    ibm_iam_authorization_policy.atracker_cos_cos_to_slz_kms_kms_policy\n  ]\n}\n\nresource \"ibm_resource_key\" \"atracker_cos_object_storage_key_cos_bind_key\" {\n  name                 = \"slz-atracker-cos-key-cos-bind-key-${random_string.atracker_cos_random_suffix.result}\"\n  resource_instance_id = ibm_resource_instance.atracker_cos_object_storage.id\n  role                 = \"Writer\"\n  tags                 = [\"slz\",\"landing-zone\"]\n}\n\n##############################################################################\n\n##############################################################################\n# Object Storage Instance Cos\n##############################################################################\n\nresource \"random_string\" \"cos_random_suffix\" {\n  length  = 8\n  special = false\n  upper   = false\n}\n\nresource \"ibm_resource_instance\" \"cos_object_storage\" {\n  name              = \"slz-cos-object-storage-${random_string.cos_random_suffix.result}\"\n  resource_group_id = ibm_resource_group.slz_service_rg.id\n  service           = \"cloud-object-storage\"\n  location          = \"global\"\n  plan              = \"standard\"\n  tags              = [\"slz\",\"landing-zone\"]\n}\n\nresource \"ibm_iam_authorization_policy\" \"cos_cos_to_slz_kms_kms_policy\" {\n  source_service_name         = \"cloud-object-storage\"\n  source_resource_instance_id = split(\":\", ibm_resource_instance.cos_object_storage.id)[7]\n  roles                       = [\"Reader\"]\n  description                 = \"Allow COS instance to read from KMS instance\"\n  target_service_name         = \"kms\"\n  target_resource_instance_id = ibm_resource_instance.slz_kms.guid\n}\n\nresource \"ibm_cos_bucket\" \"cos_object_storage_management_bucket_bucket\" {\n  bucket_name          = \"slz-cos-management-bucket-${random_string.cos_random_suffix.result}\"\n  resource_instance_id = ibm_resource_instance.cos_object_storage.id\n  storage_class        = \"standard\"\n  endpoint_type        = \"public\"\n  force_delete         = true\n  region_location      = \"us-south\"\n  key_protect          = ibm_kms_key.slz_kms_slz_slz_key_key.crn\n\n  depends_on = [\n    ibm_iam_authorization_policy.cos_cos_to_slz_kms_kms_policy\n  ]\n}\n\nresource \"ibm_cos_bucket\" \"cos_object_storage_workload_bucket_bucket\" {\n  bucket_name          = \"slz-cos-workload-bucket-${random_string.cos_random_suffix.result}\"\n  resource_instance_id = ibm_resource_instance.cos_object_storage.id\n  storage_class        = \"standard\"\n  endpoint_type        = \"public\"\n  force_delete         = true\n  region_location      = \"us-south\"\n  key_protect          = ibm_kms_key.slz_kms_slz_slz_key_key.crn\n\n  depends_on = [\n    ibm_iam_authorization_policy.cos_cos_to_slz_kms_kms_policy\n  ]\n}\n\n##############################################################################\n\n",
  "atracker.tf": "##############################################################################\n# Atracker Resources\n##############################################################################\n\nresource \"ibm_atracker_target\" \"slz_atracker_cos_target\" {\n  name        = \"slz-slz-atracker-cos\"\n  target_type = \"cloud_object_storage\"\n  region      = \"us-south\"\n\n  cos_endpoint {\n    endpoint   = \"s3.private.us-south.cloud-object-storage.appdomain.cloud\"\n    target_crn = ibm_resource_instance.atracker_cos_object_storage.id\n    bucket     = ibm_cos_bucket.atracker_cos_object_storage_atracker_bucket_bucket.bucket_name\n    api_key    = ibm_resource_key.atracker_cos_object_storage_key_cos_bind_key.credentials.apikey\n  }\n}\n\nresource \"ibm_atracker_route\" \"slz_atracker_cos_route\" {\n  name = \"slz-slz-atracker-cos-route\"\n\n  rules {\n    target_ids = [ibm_atracker_target.slz_atracker_cos_target.id]\n    locations  = [\"global\",\"us-south\"]\n  }\n}\n\n##############################################################################",
  "resource_groups.tf": "##############################################################################\n# Resource Groups\n##############################################################################\n\nresource \"ibm_resource_group\" \"slz_service_rg\" {\n  name = \"slz-slz-service-rg\"\n  tags = [\"slz\",\"landing-zone\"]\n}\n\nresource \"ibm_resource_group\" \"slz_management_rg\" {\n  name = \"slz-slz-management-rg\"\n  tags = [\"slz\",\"landing-zone\"]\n}\n\nresource \"ibm_resource_group\" \"slz_workload_rg\" {\n  name = \"slz-slz-workload-rg\"\n  tags = [\"slz\",\"landing-zone\"]\n}\n\n##############################################################################\n",
  "flow_logs.tf": "##############################################################################\n# Flow Logs Resources\n##############################################################################\n\nresource \"ibm_iam_authorization_policy\" \"flow_logs_to_cos_object_storage_policy\" {\n  source_service_name         = \"is\"\n  source_resource_type        = \"flow-log-collector\"\n  description                 = \"Allow flow logs write access cloud object storage instance\"\n  roles                       = [\"Writer\"]\n  target_service_name         = \"cloud-object-storage\"\n  target_resource_instance_id = split(\":\", ibm_resource_instance.cos_object_storage.id)[7]\n}\n\nresource \"ibm_is_flow_log\" \"management_flow_log_collector\" {\n  name           = \"slz-management-vpc-logs\"\n  target         = ibm_is_vpc.management_vpc.id\n  active         = true\n  storage_bucket = ibm_cos_bucket.cos_object_storage_management_bucket_bucket.bucket_name\n  resource_group = ibm_resource_group.slz_management_rg.id\n  tags           = [\"slz\",\"landing-zone\"]\n\n  depends_on = [\n    ibm_iam_authorization_policy.flow_logs_to_cos_object_storage_policy\n  ]\n}\n\nresource \"ibm_is_flow_log\" \"workload_flow_log_collector\" {\n  name           = \"slz-workload-vpc-logs\"\n  target         = ibm_is_vpc.workload_vpc.id\n  active         = true\n  storage_bucket = ibm_cos_bucket.cos_object_storage_management_bucket_bucket.bucket_name\n  resource_group = ibm_resource_group.slz_workload_rg.id\n  tags           = [\"slz\",\"landing-zone\"]\n\n  depends_on = [\n    ibm_iam_authorization_policy.flow_logs_to_cos_object_storage_policy\n  ]\n}\n\n##############################################################################\n",
  "virtual_private_endpoints.tf": "##############################################################################\n# Management VPE Resources\n##############################################################################\n\nresource \"ibm_is_subnet_reserved_ip\" \"management_vpc_vpe_zone_1_subnet_vpe_ip\" {\n  subnet = ibm_is_subnet.management_vpe_zone_1.id\n}\n\nresource \"ibm_is_subnet_reserved_ip\" \"management_vpc_vpe_zone_2_subnet_vpe_ip\" {\n  subnet = ibm_is_subnet.management_vpe_zone_2.id\n}\n\nresource \"ibm_is_subnet_reserved_ip\" \"management_vpc_vpe_zone_3_subnet_vpe_ip\" {\n  subnet = ibm_is_subnet.management_vpe_zone_3.id\n}\n\nresource \"ibm_is_virtual_endpoint_gateway\" \"management_vpc_cos_vpe_gateway\" {\n  name            = \"slz-management-cos-vpe-gw\"\n  vpc             = ibm_is_vpc.management_vpc.id\n  resource_group  = ibm_resource_group.slz_management_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  security_groups = [\n    ibm_is_security_group.management_vpc_management_vpe_sg_sg.id\n  ]\n\n  target {\n    crn           = \"crn:v1:bluemix:public:cloud-object-storage:global:::endpoint:s3.direct.us-south.cloud-object-storage.appdomain.cloud\"\n    resource_type = \"provider_cloud_service\"\n  }\n}\n\nresource \"ibm_is_virtual_endpoint_gateway_ip\" \"management_vpc_cos_gw_vpe_zone_1_gateway_ip\" {\n  gateway     = ibm_is_virtual_endpoint_gateway.management_vpc_cos_vpe_gateway.id\n  reserved_ip = ibm_is_subnet_reserved_ip.management_vpc_vpe_zone_1_subnet_vpe_ip.reserved_ip\n}\n\nresource \"ibm_is_virtual_endpoint_gateway_ip\" \"management_vpc_cos_gw_vpe_zone_2_gateway_ip\" {\n  gateway     = ibm_is_virtual_endpoint_gateway.management_vpc_cos_vpe_gateway.id\n  reserved_ip = ibm_is_subnet_reserved_ip.management_vpc_vpe_zone_2_subnet_vpe_ip.reserved_ip\n}\n\nresource \"ibm_is_virtual_endpoint_gateway_ip\" \"management_vpc_cos_gw_vpe_zone_3_gateway_ip\" {\n  gateway     = ibm_is_virtual_endpoint_gateway.management_vpc_cos_vpe_gateway.id\n  reserved_ip = ibm_is_subnet_reserved_ip.management_vpc_vpe_zone_3_subnet_vpe_ip.reserved_ip\n}\n\n##############################################################################\n\n##############################################################################\n# Workload VPE Resources\n##############################################################################\n\nresource \"ibm_is_subnet_reserved_ip\" \"workload_vpc_vpe_zone_1_subnet_vpe_ip\" {\n  subnet = ibm_is_subnet.workload_vpe_zone_1.id\n}\n\nresource \"ibm_is_subnet_reserved_ip\" \"workload_vpc_vpe_zone_2_subnet_vpe_ip\" {\n  subnet = ibm_is_subnet.workload_vpe_zone_2.id\n}\n\nresource \"ibm_is_subnet_reserved_ip\" \"workload_vpc_vpe_zone_3_subnet_vpe_ip\" {\n  subnet = ibm_is_subnet.workload_vpe_zone_3.id\n}\n\nresource \"ibm_is_virtual_endpoint_gateway\" \"workload_vpc_cos_vpe_gateway\" {\n  name            = \"slz-workload-cos-vpe-gw\"\n  vpc             = ibm_is_vpc.workload_vpc.id\n  resource_group  = ibm_resource_group.slz_workload_rg.id\n  tags            = [\"slz\",\"landing-zone\"]\n  security_groups = [\n    ibm_is_security_group.workload_vpc_workload_vpe_sg_sg.id\n  ]\n\n  target {\n    crn           = \"crn:v1:bluemix:public:cloud-object-storage:global:::endpoint:s3.direct.us-south.cloud-object-storage.appdomain.cloud\"\n    resource_type = \"provider_cloud_service\"\n  }\n}\n\nresource \"ibm_is_virtual_endpoint_gateway_ip\" \"workload_vpc_cos_gw_vpe_zone_1_gateway_ip\" {\n  gateway     = ibm_is_virtual_endpoint_gateway.workload_vpc_cos_vpe_gateway.id\n  reserved_ip = ibm_is_subnet_reserved_ip.workload_vpc_vpe_zone_1_subnet_vpe_ip.reserved_ip\n}\n\nresource \"ibm_is_virtual_endpoint_gateway_ip\" \"workload_vpc_cos_gw_vpe_zone_2_gateway_ip\" {\n  gateway     = ibm_is_virtual_endpoint_gateway.workload_vpc_cos_vpe_gateway.id\n  reserved_ip = ibm_is_subnet_reserved_ip.workload_vpc_vpe_zone_2_subnet_vpe_ip.reserved_ip\n}\n\nresource \"ibm_is_virtual_endpoint_gateway_ip\" \"workload_vpc_cos_gw_vpe_zone_3_gateway_ip\" {\n  gateway     = ibm_is_virtual_endpoint_gateway.workload_vpc_cos_vpe_gateway.id\n  reserved_ip = ibm_is_subnet_reserved_ip.workload_vpc_vpe_zone_3_subnet_vpe_ip.reserved_ip\n}\n\n##############################################################################\n",
  "security_groups.tf": "##############################################################################\n# Security Group Management VPE Sg\n##############################################################################\n\nresource \"ibm_is_security_group\" \"management_vpc_management_vpe_sg_sg\" {\n  name           = \"slz-management-management-vpe-sg-sg\"\n  vpc            = ibm_is_vpc.management_vpc.id\n  resource_group = ibm_resource_group.slz_management_rg.id\n  tags           = [\"slz\",\"landing-zone\"]\n}\n\nresource \"ibm_is_security_group_rule\" \"management_vpc_management_vpe_sg_sg_rule_allow_ibm_inbound\" {\n  group     = ibm_is_security_group.management_vpc_management_vpe_sg_sg.id\n  remote    = \"161.26.0.0/16\"\n  direction = \"inbound\"\n}\n\nresource \"ibm_is_security_group_rule\" \"management_vpc_management_vpe_sg_sg_rule_allow_vpc_inbound\" {\n  group     = ibm_is_security_group.management_vpc_management_vpe_sg_sg.id\n  remote    = \"10.0.0.0/8\"\n  direction = \"inbound\"\n}\n\nresource \"ibm_is_security_group_rule\" \"management_vpc_management_vpe_sg_sg_rule_allow_vpc_outbound\" {\n  group     = ibm_is_security_group.management_vpc_management_vpe_sg_sg.id\n  remote    = \"10.0.0.0/8\"\n  direction = \"outbound\"\n}\n\nresource \"ibm_is_security_group_rule\" \"management_vpc_management_vpe_sg_sg_rule_allow_ibm_tcp_53_outbound\" {\n  group     = ibm_is_security_group.management_vpc_management_vpe_sg_sg.id\n  remote    = \"161.26.0.0/16\"\n  direction = \"outbound\"\n\n  tcp {\n    port_min = 53\n    port_max = 53\n  }\n}\n\nresource \"ibm_is_security_group_rule\" \"management_vpc_management_vpe_sg_sg_rule_allow_ibm_tcp_80_outbound\" {\n  group     = ibm_is_security_group.management_vpc_management_vpe_sg_sg.id\n  remote    = \"161.26.0.0/16\"\n  direction = \"outbound\"\n\n  tcp {\n    port_min = 80\n    port_max = 80\n  }\n}\n\nresource \"ibm_is_security_group_rule\" \"management_vpc_management_vpe_sg_sg_rule_allow_ibm_tcp_443_outbound\" {\n  group     = ibm_is_security_group.management_vpc_management_vpe_sg_sg.id\n  remote    = \"161.26.0.0/16\"\n  direction = \"outbound\"\n\n  tcp {\n    port_min = 443\n    port_max = 443\n  }\n}\n\n##############################################################################\n\n##############################################################################\n# Security Group Workload VPE Sg\n##############################################################################\n\nresource \"ibm_is_security_group\" \"workload_vpc_workload_vpe_sg_sg\" {\n  name           = \"slz-workload-workload-vpe-sg-sg\"\n  vpc            = ibm_is_vpc.workload_vpc.id\n  resource_group = ibm_resource_group.slz_workload_rg.id\n  tags           = [\"slz\",\"landing-zone\"]\n}\n\nresource \"ibm_is_security_group_rule\" \"workload_vpc_workload_vpe_sg_sg_rule_allow_ibm_inbound\" {\n  group     = ibm_is_security_group.workload_vpc_workload_vpe_sg_sg.id\n  remote    = \"161.26.0.0/16\"\n  direction = \"inbound\"\n}\n\nresource \"ibm_is_security_group_rule\" \"workload_vpc_workload_vpe_sg_sg_rule_allow_vpc_inbound\" {\n  group     = ibm_is_security_group.workload_vpc_workload_vpe_sg_sg.id\n  remote    = \"10.0.0.0/8\"\n  direction = \"inbound\"\n}\n\nresource \"ibm_is_security_group_rule\" \"workload_vpc_workload_vpe_sg_sg_rule_allow_vpc_outbound\" {\n  group     = ibm_is_security_group.workload_vpc_workload_vpe_sg_sg.id\n  remote    = \"10.0.0.0/8\"\n  direction = \"outbound\"\n}\n\nresource \"ibm_is_security_group_rule\" \"workload_vpc_workload_vpe_sg_sg_rule_allow_ibm_tcp_53_outbound\" {\n  group     = ibm_is_security_group.workload_vpc_workload_vpe_sg_sg.id\n  remote    = \"161.26.0.0/16\"\n  direction = \"outbound\"\n\n  tcp {\n    port_min = 53\n    port_max = 53\n  }\n}\n\nresource \"ibm_is_security_group_rule\" \"workload_vpc_workload_vpe_sg_sg_rule_allow_ibm_tcp_80_outbound\" {\n  group     = ibm_is_security_group.workload_vpc_workload_vpe_sg_sg.id\n  remote    = \"161.26.0.0/16\"\n  direction = \"outbound\"\n\n  tcp {\n    port_min = 80\n    port_max = 80\n  }\n}\n\nresource \"ibm_is_security_group_rule\" \"workload_vpc_workload_vpe_sg_sg_rule_allow_ibm_tcp_443_outbound\" {\n  group     = ibm_is_security_group.workload_vpc_workload_vpe_sg_sg.id\n  remote    = \"161.26.0.0/16\"\n  direction = \"outbound\"\n\n  tcp {\n    port_min = 443\n    port_max = 443\n  }\n}\n\n##############################################################################\n",
  "vpn_gateways.tf": "##############################################################################\n# VPN Gateways\n##############################################################################\n\nresource \"ibm_is_vpn_gateway\" \"management_management_gateway_vpn_gw\" {\n  name           = \"slz-management-management-gateway-vpn-gw\"\n  subnet         = ibm_is_subnet.management_vpn_zone_1.id\n  resource_group = ibm_resource_group.slz_management_rg.id\n  tags           = [\"slz\",\"landing-zone\"]\n\n  timeouts {\n    delete = \"1h\"\n  }\n}\n\n##############################################################################\n",
  "ssh_keys.tf": "##############################################################################\n# SSH Keys\n##############################################################################\n\nresource \"ibm_is_ssh_key\" \"slz_ssh_key\" {\n  name           = \"slz-slz-ssh-key\"\n  public_key     = var.slz_ssh_key_public_key\n  resource_group = ibm_resource_group.slz_management_rg.id\n  tags           = [\"slz\",\"landing-zone\"]\n}\n\n##############################################################################\n",
  "transit_gateways.tf": "##############################################################################\n# Transit Gateway Transit Gateway\n##############################################################################\n\nresource \"ibm_tg_gateway\" \"transit_gateway\" {\n  name           = \"slz-transit-gateway\"\n  location       = \"us-south\"\n  global         = false\n  resource_group = ibm_resource_group.slz_service_rg.id\n\n  timeouts {\n    create = \"30m\"\n    delete = \"30m\"\n  }\n}\n\nresource \"ibm_tg_connection\" \"transit_gateway_to_management_connection\" {\n  gateway      = ibm_tg_gateway.transit_gateway.id\n  network_type = \"vpc\"\n  name         = \"slz-transit-gateway-management-hub-connection\"\n  network_id   = ibm_is_vpc.management_vpc.crn\n\n  timeouts {\n    create = \"30m\"\n    delete = \"30m\"\n  }\n}\n\nresource \"ibm_tg_connection\" \"transit_gateway_to_workload_connection\" {\n  gateway      = ibm_tg_gateway.transit_gateway.id\n  network_type = \"vpc\"\n  name         = \"slz-transit-gateway-workload-hub-connection\"\n  network_id   = ibm_is_vpc.workload_vpc.crn\n\n  timeouts {\n    create = \"30m\"\n    delete = \"30m\"\n  }\n}\n\n##############################################################################\n",
  "clusters.tf": "##############################################################################\n# Workload Cluster\n##############################################################################\n\nresource \"ibm_container_vpc_cluster\" \"workload_vpc_workload_cluster\" {\n  name                            = \"slz-workload-cluster\"\n  vpc_id                          = ibm_is_vpc.workload_vpc.id\n  resource_group_id               = ibm_resource_group.slz_workload_rg.id\n  flavor                          = \"bx2.16x64\"\n  worker_count                    = 2\n  kube_version                    = \"default\"\n  update_all_workers              = null\n  tags                            = [\"slz\",\"landing-zone\"]\n  wait_till                       = \"IngressReady\"\n  disable_public_service_endpoint = false\n  entitlement                     = \"cloud_pak\"\n  cos_instance_crn                = ibm_resource_instance.cos_object_storage.crn\n\n  zones {\n    name      = \"us-south-1\"\n    subnet_id = ibm_is_subnet.workload_vsi_zone_1.id\n  }\n\n  zones {\n    name      = \"us-south-2\"\n    subnet_id = ibm_is_subnet.workload_vsi_zone_2.id\n  }\n\n  zones {\n    name      = \"us-south-3\"\n    subnet_id = ibm_is_subnet.workload_vsi_zone_3.id\n  }\n\n  kms_config {\n    crk_id           = ibm_kms_key.slz_kms_slz_vsi_volume_key_key.key_id\n    instance_id      = ibm_resource_instance.slz_kms.guid\n    private_endpoint = false\n  }\n\n  timeouts {\n    create = \"3h\"\n    delete = \"2h\"\n    update = \"3h\"\n  }\n}\n\nresource \"ibm_container_vpc_worker_pool\" \"workload_vpc_workload_cluster_logging_pool_pool\" {\n  worker_pool_name  = \"slz-workload-cluster-logging-pool\"\n  vpc_id            = ibm_is_vpc.workload_vpc.id\n  resource_group_id = ibm_resource_group.slz_workload_rg.id\n  cluster           = ibm_container_vpc_cluster.workload_vpc_workload_cluster.id\n  flavor            = \"bx2.16x64\"\n  worker_count      = 2\n  entitlement       = \"cloud_pak\"\n\n  zones {\n    name      = \"us-south-1\"\n    subnet_id = ibm_is_subnet.workload_vsi_zone_1.id\n  }\n\n  zones {\n    name      = \"us-south-2\"\n    subnet_id = ibm_is_subnet.workload_vsi_zone_2.id\n  }\n\n  zones {\n    name      = \"us-south-3\"\n    subnet_id = ibm_is_subnet.workload_vsi_zone_3.id\n  }\n}\n\n##############################################################################\n",
  "virtual_servers.tf": "##############################################################################\n# Image Data Sources\n##############################################################################\n\ndata \"ibm_is_image\" \"ibm_ubuntu_18_04_6_minimal_amd64_2\" {\n  name = \"ibm-ubuntu-18-04-6-minimal-amd64-2\"\n}\n\n##############################################################################\n\n##############################################################################\n# Management VPC Management Server Deployment\n##############################################################################\n\nresource \"ibm_is_instance\" \"management_vpc_management_server_vsi_1_1\" {\n  name           = \"slz-management-management-server-vsi-zone-1-1\"\n  image          = data.ibm_is_image.ibm_ubuntu_18_04_6_minimal_amd64_2.id\n  profile        = \"cx2-4x8\"\n  resource_group = ibm_resource_group.slz_management_rg.id\n  vpc            = ibm_is_vpc.management_vpc.id\n  zone           = \"us-south-1\"\n  tags           = [\"slz\",\"landing-zone\"]\n\n  keys = [\n    ibm_is_ssh_key.slz_ssh_key.id\n  ]\n\n  primary_network_interface {\n    subnet          = ibm_is_subnet.management_vsi_zone_1.id\n    security_groups = [\n      ibm_is_security_group.management_vpc_management_vpe_sg_sg.id\n    ]\n  }\n\n  boot_volume {\n    encryption = ibm_kms_key.slz_kms_slz_vsi_volume_key_key.key_id\n  }\n}\n\nresource \"ibm_is_instance\" \"management_vpc_management_server_vsi_1_2\" {\n  name           = \"slz-management-management-server-vsi-zone-1-2\"\n  image          = data.ibm_is_image.ibm_ubuntu_18_04_6_minimal_amd64_2.id\n  profile        = \"cx2-4x8\"\n  resource_group = ibm_resource_group.slz_management_rg.id\n  vpc            = ibm_is_vpc.management_vpc.id\n  zone           = \"us-south-1\"\n  tags           = [\"slz\",\"landing-zone\"]\n\n  keys = [\n    ibm_is_ssh_key.slz_ssh_key.id\n  ]\n\n  primary_network_interface {\n    subnet          = ibm_is_subnet.management_vsi_zone_1.id\n    security_groups = [\n      ibm_is_security_group.management_vpc_management_vpe_sg_sg.id\n    ]\n  }\n\n  boot_volume {\n    encryption = ibm_kms_key.slz_kms_slz_vsi_volume_key_key.key_id\n  }\n}\n\nresource \"ibm_is_instance\" \"management_vpc_management_server_vsi_2_1\" {\n  name           = \"slz-management-management-server-vsi-zone-2-1\"\n  image          = data.ibm_is_image.ibm_ubuntu_18_04_6_minimal_amd64_2.id\n  profile        = \"cx2-4x8\"\n  resource_group = ibm_resource_group.slz_management_rg.id\n  vpc            = ibm_is_vpc.management_vpc.id\n  zone           = \"us-south-2\"\n  tags           = [\"slz\",\"landing-zone\"]\n\n  keys = [\n    ibm_is_ssh_key.slz_ssh_key.id\n  ]\n\n  primary_network_interface {\n    subnet          = ibm_is_subnet.management_vsi_zone_2.id\n    security_groups = [\n      ibm_is_security_group.management_vpc_management_vpe_sg_sg.id\n    ]\n  }\n\n  boot_volume {\n    encryption = ibm_kms_key.slz_kms_slz_vsi_volume_key_key.key_id\n  }\n}\n\nresource \"ibm_is_instance\" \"management_vpc_management_server_vsi_2_2\" {\n  name           = \"slz-management-management-server-vsi-zone-2-2\"\n  image          = data.ibm_is_image.ibm_ubuntu_18_04_6_minimal_amd64_2.id\n  profile        = \"cx2-4x8\"\n  resource_group = ibm_resource_group.slz_management_rg.id\n  vpc            = ibm_is_vpc.management_vpc.id\n  zone           = \"us-south-2\"\n  tags           = [\"slz\",\"landing-zone\"]\n\n  keys = [\n    ibm_is_ssh_key.slz_ssh_key.id\n  ]\n\n  primary_network_interface {\n    subnet          = ibm_is_subnet.management_vsi_zone_2.id\n    security_groups = [\n      ibm_is_security_group.management_vpc_management_vpe_sg_sg.id\n    ]\n  }\n\n  boot_volume {\n    encryption = ibm_kms_key.slz_kms_slz_vsi_volume_key_key.key_id\n  }\n}\n\nresource \"ibm_is_instance\" \"management_vpc_management_server_vsi_3_1\" {\n  name           = \"slz-management-management-server-vsi-zone-3-1\"\n  image          = data.ibm_is_image.ibm_ubuntu_18_04_6_minimal_amd64_2.id\n  profile        = \"cx2-4x8\"\n  resource_group = ibm_resource_group.slz_management_rg.id\n  vpc            = ibm_is_vpc.management_vpc.id\n  zone           = \"us-south-3\"\n  tags           = [\"slz\",\"landing-zone\"]\n\n  keys = [\n    ibm_is_ssh_key.slz_ssh_key.id\n  ]\n\n  primary_network_interface {\n    subnet          = ibm_is_subnet.management_vsi_zone_3.id\n    security_groups = [\n      ibm_is_security_group.management_vpc_management_vpe_sg_sg.id\n    ]\n  }\n\n  boot_volume {\n    encryption = ibm_kms_key.slz_kms_slz_vsi_volume_key_key.key_id\n  }\n}\n\nresource \"ibm_is_instance\" \"management_vpc_management_server_vsi_3_2\" {\n  name           = \"slz-management-management-server-vsi-zone-3-2\"\n  image          = data.ibm_is_image.ibm_ubuntu_18_04_6_minimal_amd64_2.id\n  profile        = \"cx2-4x8\"\n  resource_group = ibm_resource_group.slz_management_rg.id\n  vpc            = ibm_is_vpc.management_vpc.id\n  zone           = \"us-south-3\"\n  tags           = [\"slz\",\"landing-zone\"]\n\n  keys = [\n    ibm_is_ssh_key.slz_ssh_key.id\n  ]\n\n  primary_network_interface {\n    subnet          = ibm_is_subnet.management_vsi_zone_3.id\n    security_groups = [\n      ibm_is_security_group.management_vpc_management_vpe_sg_sg.id\n    ]\n  }\n\n  boot_volume {\n    encryption = ibm_kms_key.slz_kms_slz_vsi_volume_key_key.key_id\n  }\n}\n\n##############################################################################\n",
  "secrets_manager.tf": null,
  "appid.tf": null,
  "teleport_vsi.tf": null,
  "scc.tf": null,
  "event_streams.tf": null,
  "load_balancers.tf": null
}